# STEPS TAKEN

## UI Hierarchy
```html
<!--

Root
|
|__ App
    |__ Search
    |       |__ Songs
    |              |__ Add
    |              |__ Remove
    |
    |__ Playlist
    |        |__ Table
    |        |     |__ Songs
    |        |            |__ Remove
    |        |__ Name
    |        |__ Export

-->
```
## State Representation

+ Search data
    - [x] The data changes over time.
    - [x] The data is not passed via props.
    - [x] The data is not computed based on existing state or props.
+ Songs data
    - [x] The data changes over time.
    - [x] The data is not passed via props.
    - [x] The data is not computed based on existing state or props.
+ Playlist data
    - [x] The data changes over time.
    - [x] The data is not passed via props.
    - [x] The data is not computed based on existing state or props.

## State Placement
```html
<!--

+ *External JS*
+ `Playlist Reducer`< - - - - - â”
    + Search Component          |
        + `Search State`        |
            + Songs Component   |
                + `Songs State` |
                
-->
```

## Conditionals

| **IF** | **THEN** |
| ------ | -------- |
| Main is empty | "Start searching for your fav songs!" |
| Attempt adding a song already in Playlist | "This song is already in your playlist!" |
| Export without Playlist name | Alert: "Don't forget to name your playlist!" |
| Attempt exporting without songs | Alert: "Pick some songs first!" |
| Attempt export without log in Spotify | "Let's log in first!" |

## Packages in local environment

*Project created without npm create-react-app*

> npm init

> npm install react@latest -g

> npm install react-dom@latest -g

> npm install curl@latest -g

> git clone https://github.com/Microsoft/vcpkg.git

> cd vcpkg

> ./bootstrap-vcpkg.sh

> ./vcpkg integrate install

> vcpkg install curl[tool]

+ Create folder named "public"
    + Create file named "index.html"

> npm install react-scripts@latest -g

+ Edit package.json
```json
"devDependencies": {
    "react-scripts": "^5.0.1"
  },
"scripts": {
    "start": "react-scripts start"
  }
```

+ Create folder named "src"
    + Create file named "index.js"

*Relative imports outside of src/ are not supported.*

## Connect components and return only JSX in each one
## Create basic CSS styling to identify elements in a live environment
## Setup States/Reducers
## Setup Event Handlers
## Setup props
## Setup API logic

### Spotify API

1. Verifier
2. Challenge
    + SHA256
    + Base 64 Encode
3. Get Authorize Token
4. Get Access Token
5. Refresh Token
6. API Requests

[Authorization Code Grant](https://datatracker.ietf.org/doc/html/rfc6749#section-4.1)

##### Example in Verifier step:
> Uint8Array [0: 30, 1: 131, 2: 85, 3: 204, 4: 64...]

> .reduce(callbackFn, initialValue)

> callbackFn = A function to execute for each element in the array. Its return value becomes the value of the *accumulator* parameter on the next invocation of callbackFn.

> (accumulator, currentValue, currentIndex) => expression

> (30,131) => 30 + possible[131 % 62 = 7]

>            (30 = e) + (7 = H)
> (37,85) => 37 + possible[85 % 62 = 23]

>               23 = X

> eHXSCU1MkTL5wAHwtQfNMJU8cCetHMnWuD9FKUCvtBdwK63FORWJ7OlTiUFx62EY

#### Notes
> The `PKCE authorization` flow starts with the creation of a code verifier. A code verifier is a high-entropry cryptographic random string with a length between 43 and 128 characters.

> The code verifier must be transformed (hashed) using the `SHA256 algorithm`. Stands for "Secure Hash Algorithm 256-bit", is a hashing function that creates a unique 256-bit hash with 64 characters long for every string. The hashed code verifier will be sent within the user authorization request.

> TextEncoder returns a byte stream with `UTF-8 encoding`.

> The most basic unit of binary is a `Bit`, which is either a 1 or a 0.

> A `Byte` consists of 8 bits, an example: "01101011".

> *window.crypto.subtle.digest*. **Crypto** is an object which allows web pages access to certain cryptographic related services. **Crypto.subtle** property returns a SubtleCrypto which can be used to perform low-level cryptographic operations. A **digest** is a small value generated by a hash function. Ideally, a digest is quick to calculate, irreversible, and unpredictable. Cryptographic digests should exhibit collision-resistance.

> The *btoa()* method encodes a string in base-64. This method uses the "A-Z", "a-z", "0-9", "+", "/" and "=" characters to encode the string.

> In security protocols, a `Code Challenge` is some data sent to the client by the server in order to generate a different response each time. Challenge-response protocols are one way to fight against replay attackswhere an attacker listens to the previous messages and resends them at a later time to get the same credentials as the original message.

> `Spotify Scopes` are categorized data the user will allow or deny access to.

> The `URL constructor` returns a newly created URL object representing the URL defined by the parameters. *new URL(url, base)*.

> *localStorage* stores the code verifier locally, saved across browser sessions. *localStorage* has no expiration time.

> *URL.search* is a search string, also called a query string, that is a string containing a **'?'** followed by the parameters of the URL.

> *window.location.href* is a stringifier that returns a string containing the whole URL, and allows the href to be updated Setting the value of href navigates to the provided URL.

> After receiving a response, we must then PARSE the URL to retrieve the code (an authorization code that can be exchanged for an access token) parameter PARSE means to analize a sequence/sentence.

> *urlParams.get* retrieves the parameter specified between the parentheses from the URL response.